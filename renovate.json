{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base"
  ],
  "packageRules": [
    {
      "packagePatterns": ["^homebridge\\/homebridge"],
      "versionScheme": "regex:^(?<compatibility>.*(\\d+-)?)(?<major>\\d+)-(?<minor>\\d+)-(?<patch>\\d+)?$"
    },
    {
      "packagePatterns": ["^lscr.io\\/linuxserver\\/"],
      "versionScheme": "regex:^(?<compatibility>.*(\\d+\\.)?)(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)?$"
    },
    {
      "packagePatterns": ["^lscr.io\\/linuxserver\\/overseerr"],
      "versioning": {
        "major": {
          "exclude": [
            "2021.*.*"  // Exclude versions matching the date format
          ]
        },
        "minor": {
          "enabled": true
        },
        "patch": {
          "enabled": true
        }
      }
      "versionScheme": "regex:^(?<compatibility>.*(\\d+\\.)?)(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)?$",
      "allowedVersions": "/^(\\d{1,3}\\.)(\\d*\\.)*\\d*$/"
    },
    {
      "packagePatterns": ["^lscr.io\\/linuxserver\\/tvheadend"],
      "versionScheme": "regex:^amd64-(?<compatibility>)?.*-ls(?<major>\\d+)?$"
    },
    {
      "packagePatterns": ["^lscr.io\\/linuxserver-labs\\/plextraktsync"],
      "versionScheme": "regex:^(?<compatibility>.*(\\d+\\.)?)(?<major>\\d+)\\.(?<minor>\\d+)\\.(?<patch>\\d+)-(ls(?<build>\\d+))?$"
    },
    {
      "matchFileNames": ["home-automation/docker-compose.yml"],
      "groupName": "Home automation",
      "groupSlug": "home-automation"
    },
    {
      "matchFileNames": ["media-management-services/docker-compose.yml"],
      "groupName": "Media Management Services",
      "groupSlug": "media-management-services"
    },
    {
      "matchFileNames": ["media-services/docker-compose.yml"],
      "groupName": "Media Services",
      "groupSlug": "media-services"
    },
    {
      "matchFileNames": ["network-services/docker-compose.yml"],
      "groupName": "Network Services",
      "groupSlug": "network-services"
    },
    {
      "matchFileNames": ["utility-services/docker-compose.yml"],
      "groupName": "Utility Services",
      "groupSlug": "utility-services"
    },
    {
      "matchFileNames": ["scprime/docker-compose.yml"],
      "groupName": "SCPrime",
      "groupSlug": "scprime"
    }
  ]
}
